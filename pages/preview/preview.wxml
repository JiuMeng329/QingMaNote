<view class="theme-{{theme}}">
<view id="page-root" class="{{globalStyleClass}}">
<!--pages/preview/preview.wxml-->
<navigation-bar title="{{documentTitle}}" back="{{true}}" color="black" background="#FFF">
  <view slot="center" class="nav-center">
    <text>{{documentTitle}}</text>
  </view>
  <view slot="right" class="nav-right">
    <view class="nav-btn edit" bindtap="switchToEdit">
      <view class="edit-icon">âœï¸</view>
    </view>
    <view class="nav-btn more" bindtap="showMoreMenu">
      <text class="more-icon">â‹®</text>
    </view>
  </view>
</navigation-bar>

<view class="preview-container">
  <!-- é¢„è§ˆå†…å®¹åŒºåŸŸ -->
  <scroll-view scroll-y="true" class="preview-content">
    <rich-text nodes="{{renderedContent}}" class="markdown-content"></rich-text>
  </scroll-view>
  
  <!-- åº•éƒ¨çŠ¶æ€æ  -->
  <view class="status-bar">
    <view class="status-left">
      <text class="word-count">å­—æ•°: {{wordCount}}</text>
    </view>
    <view class="status-right">
      <view class="action-btn share" bindtap="shareDocument">
        <text class="action-icon">â†—ï¸</text>
      </view>
      <view class="action-btn download" bindtap="downloadDocument">
        <text class="action-icon">â¬‡ï¸</text>
      </view>
    </view>
  </view>
</view>

<!-- æ›´å¤šèœå• -->
<view class="more-menu {{showMenu ? 'show' : ''}}">
  <view class="menu-mask" bindtap="hideMoreMenu"></view>
  <view class="menu-content">
    <view class="menu-title">å¯¼å‡ºé€‰é¡¹</view>
    <view class="menu-item" bindtap="exportAsMd">
      <text class="menu-icon">ğŸ“„</text>
      <text class="menu-text">Markdown (.md)</text>
    </view>
    <view class="menu-item" bindtap="exportAsHtml">
      <text class="menu-icon">ğŸ“„</text>
      <text class="menu-text">HTML (.html)</text>
    </view>
    <view class="menu-item" bindtap="exportAsPdf">
      <text class="menu-icon">ğŸ“„</text>
      <text class="menu-text">PDF (.pdf)</text>
    </view>
    <view class="menu-cancel" bindtap="hideMoreMenu">å–æ¶ˆ</view>
  </view>
</view>
</view>
</view>